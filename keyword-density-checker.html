<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword Density Checker | Multi-Tools</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="container my-4">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <div class="ad-placeholder" style="height:90px; background:#f1f1f1; border:1px dashed #ccc;">Ad Space</div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h1 class="card-title mb-4">Keyword Density Checker</h1>
                        <div id="tool-ui">
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="contentText" class="form-label">Content Text</label>
                                    <textarea class="form-control" id="contentText" rows="10" placeholder="Paste your content here..."></textarea>
                                    <div class="form-text">Enter or paste your content to analyze keyword density</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="targetKeywords" class="form-label">Target Keywords</label>
                                    <textarea class="form-control" id="targetKeywords" rows="3" placeholder="Enter target keywords (one per line)"></textarea>
                                    <div class="form-text">Enter your target keywords, one per line</div>
                                    
                                    <div class="mt-3">
                                        <label for="analysisType" class="form-label">Analysis Type</label>
                                        <select class="form-select" id="analysisType">
                                            <option value="all">All Words</option>
                                            <option value="target">Target Keywords Only</option>
                                            <option value="both">Both</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <button class="btn btn-primary" onclick="analyzeKeywords()">Analyze Keywords</button>
                                        <button class="btn btn-secondary" onclick="clearAnalysis()">Clear</button>
                                        <button class="btn btn-outline-secondary" onclick="loadSampleText()">Load Sample</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="analysisResults" style="display:none;">
                                <div class="row mt-4">
                                    <div class="col-md-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h4 class="text-primary" id="totalWords">0</h4>
                                                <small class="text-muted">Total Words</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h4 class="text-success" id="uniqueWords">0</h4>
                                                <small class="text-muted">Unique Words</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h4 class="text-info" id="keywordMatches">0</h4>
                                                <small class="text-muted">Keyword Matches</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card text-center">
                                            <div class="card-body">
                                                <h4 class="text-warning" id="avgDensity">0%</h4>
                                                <small class="text-muted">Avg Density</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-body">
                                        <h5 class="card-title">Keyword Density Analysis</h5>
                                        <div class="table-responsive">
                                            <table class="table table-sm" id="keywordTable">
                                                <thead>
                                                    <tr>
                                                        <th>Keyword</th>
                                                        <th>Count</th>
                                                        <th>Density</th>
                                                        <th>Status</th>
                                                        <th>Positions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="keywordTableBody">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="row mt-3">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h5 class="card-title">Top Keywords</h5>
                                                <div id="topKeywords"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h5 class="card-title">SEO Recommendations</h5>
                                                <div id="seoRecommendations"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card mt-3">
                                    <div class="card-body">
                                        <h5 class="card-title">Content Analysis</h5>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <h6>Text Statistics</h6>
                                                <ul id="textStats">
                                                </ul>
                                            </div>
                                            <div class="col-md-6">
                                                <h6>Readability</h6>
                                                <ul id="readabilityStats">
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card mt-4">
                    <div class="card-body">
                        <h5 class="card-title">Keyword Density Guidelines</h5>
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Optimal Density Ranges</h6>
                                <ul>
                                    <li><strong>0.5-1%:</strong> Primary keywords</li>
                                    <li><strong>0.3-0.7%:</strong> Secondary keywords</li>
                                    <li><strong>0.1-0.3%:</strong> Long-tail keywords</li>
                                    <li><strong>Below 0.1%:</strong> Too low</li>
                                    <li><strong>Above 2%:</strong> Keyword stuffing</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6>Best Practices</h6>
                                <ul>
                                    <li>Use keywords naturally in content</li>
                                    <li>Include keywords in headings</li>
                                    <li>Place keywords in first paragraph</li>
                                    <li>Use variations and synonyms</li>
                                    <li>Avoid keyword stuffing</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="ad-placeholder mt-4" style="height:90px; background:#f1f1f1; border:1px dashed #ccc;">Ad Space</div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="ad-placeholder mb-4" style="height:250px; background:#f1f1f1; border:1px dashed #ccc;">Sidebar Ad</div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Related Tools</h5>
                        <ul class="list-unstyled mb-0" id="related-tools">
                            <li><a href="meta-tag-generator.html">Meta Tag Generator</a></li>
                            <li><a href="sitemap-generator.html">Sitemap Generator</a></li>
                            <li><a href="robots-txt-generator.html">Robots.txt Generator</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
    <script>
        function analyzeKeywords() {
            const content = document.getElementById('contentText').value;
            const targetKeywords = document.getElementById('targetKeywords').value;
            const analysisType = document.getElementById('analysisType').value;
            
            if (!content.trim()) {
                alert('Please enter some content to analyze');
                return;
            }
            
            // Clean and process content
            const cleanContent = content.toLowerCase().replace(/[^\w\s]/g, ' ');
            const words = cleanContent.split(/\s+/).filter(word => word.length > 0);
            const totalWords = words.length;
            
            // Count word frequency
            const wordCount = {};
            words.forEach(word => {
                wordCount[word] = (wordCount[word] || 0) + 1;
            });
            
            // Process target keywords
            const targetKeywordList = targetKeywords.split('\n')
                .map(keyword => keyword.trim().toLowerCase())
                .filter(keyword => keyword.length > 0);
            
            // Find keyword matches and positions
            const keywordAnalysis = {};
            targetKeywordList.forEach(keyword => {
                const regex = new RegExp(keyword.replace(/\s+/g, '\\s+'), 'gi');
                const matches = content.match(regex) || [];
                const positions = [];
                let match;
                while ((match = regex.exec(content)) !== null) {
                    positions.push(match.index);
                }
                
                keywordAnalysis[keyword] = {
                    count: matches.length,
                    density: totalWords > 0 ? (matches.length / totalWords * 100) : 0,
                    positions: positions
                };
            });
            
            // Display results
            displayResults(wordCount, keywordAnalysis, totalWords, analysisType);
        }

        function displayResults(wordCount, keywordAnalysis, totalWords, analysisType) {
            // Update summary stats
            document.getElementById('totalWords').textContent = totalWords.toLocaleString();
            document.getElementById('uniqueWords').textContent = Object.keys(wordCount).length.toLocaleString();
            
            const totalMatches = Object.values(keywordAnalysis).reduce((sum, analysis) => sum + analysis.count, 0);
            document.getElementById('keywordMatches').textContent = totalMatches;
            
            const avgDensity = Object.values(keywordAnalysis).reduce((sum, analysis) => sum + analysis.density, 0) / Object.keys(keywordAnalysis).length || 0;
            document.getElementById('avgDensity').textContent = avgDensity.toFixed(2) + '%';
            
            // Display keyword table
            const tbody = document.getElementById('keywordTableBody');
            tbody.innerHTML = '';
            
            Object.entries(keywordAnalysis).forEach(([keyword, analysis]) => {
                const row = tbody.insertRow();
                const status = getKeywordStatus(analysis.density);
                const statusClass = getStatusClass(analysis.density);
                
                row.innerHTML = `
                    <td><strong>${keyword}</strong></td>
                    <td>${analysis.count}</td>
                    <td>${analysis.density.toFixed(2)}%</td>
                    <td><span class="badge ${statusClass}">${status}</span></td>
                    <td>${analysis.positions.slice(0, 3).join(', ')}${analysis.positions.length > 3 ? '...' : ''}</td>
                `;
            });
            
            // Display top keywords
            displayTopKeywords(wordCount);
            
            // Display SEO recommendations
            displaySEORecommendations(keywordAnalysis);
            
            // Display text statistics
            displayTextStats(totalWords, wordCount);
            
            document.getElementById('analysisResults').style.display = 'block';
        }

        function getKeywordStatus(density) {
            if (density < 0.1) return 'Too Low';
            if (density < 0.5) return 'Low';
            if (density <= 1.0) return 'Optimal';
            if (density <= 2.0) return 'High';
            return 'Too High';
        }

        function getStatusClass(density) {
            if (density < 0.1) return 'bg-danger';
            if (density < 0.5) return 'bg-warning';
            if (density <= 1.0) return 'bg-success';
            if (density <= 2.0) return 'bg-warning';
            return 'bg-danger';
        }

        function displayTopKeywords(wordCount) {
            const topKeywords = Object.entries(wordCount)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 10);
            
            const container = document.getElementById('topKeywords');
            container.innerHTML = topKeywords.map(([word, count]) => 
                `<div class="d-flex justify-content-between">
                    <span>${word}</span>
                    <span class="badge bg-secondary">${count}</span>
                </div>`
            ).join('');
        }

        function displaySEORecommendations(keywordAnalysis) {
            const recommendations = [];
            
            Object.entries(keywordAnalysis).forEach(([keyword, analysis]) => {
                if (analysis.density < 0.1) {
                    recommendations.push(`Increase usage of "${keyword}" (current: ${analysis.density.toFixed(2)}%)`);
                } else if (analysis.density > 2.0) {
                    recommendations.push(`Reduce overuse of "${keyword}" (current: ${analysis.density.toFixed(2)}%)`);
                }
            });
            
            if (recommendations.length === 0) {
                recommendations.push('Keyword density looks good!');
            }
            
            const container = document.getElementById('seoRecommendations');
            container.innerHTML = recommendations.map(rec => `<p>â€¢ ${rec}</p>`).join('');
        }

        function displayTextStats(totalWords, wordCount) {
            const uniqueWords = Object.keys(wordCount).length;
            const avgWordLength = Object.keys(wordCount).reduce((sum, word) => sum + word.length, 0) / uniqueWords;
            const readability = calculateReadability(totalWords, uniqueWords);
            
            document.getElementById('textStats').innerHTML = `
                <li>Total words: ${totalWords.toLocaleString()}</li>
                <li>Unique words: ${uniqueWords.toLocaleString()}</li>
                <li>Average word length: ${avgWordLength.toFixed(1)} characters</li>
                <li>Vocabulary diversity: ${(uniqueWords / totalWords * 100).toFixed(1)}%</li>
            `;
            
            document.getElementById('readabilityStats').innerHTML = `
                <li>Readability score: ${readability.score}</li>
                <li>Grade level: ${readability.grade}</li>
                <li>Complexity: ${readability.complexity}</li>
            `;
        }

        function calculateReadability(totalWords, uniqueWords) {
            const diversity = uniqueWords / totalWords;
            
            if (diversity > 0.8) {
                return { score: 'High', grade: 'Advanced', complexity: 'Complex' };
            } else if (diversity > 0.6) {
                return { score: 'Medium', grade: 'Intermediate', complexity: 'Moderate' };
            } else {
                return { score: 'Low', grade: 'Basic', complexity: 'Simple' };
            }
        }

        function clearAnalysis() {
            document.getElementById('contentText').value = '';
            document.getElementById('targetKeywords').value = '';
            document.getElementById('analysisResults').style.display = 'none';
        }

        function loadSampleText() {
            const sampleText = `Search engine optimization (SEO) is the process of optimizing a website to improve its visibility in search engine results pages (SERPs). SEO involves various techniques and strategies to help websites rank higher in organic search results.

The main goal of SEO is to increase organic traffic to a website by improving its search engine rankings. This can be achieved through on-page optimization, technical SEO, and off-page optimization strategies.

On-page SEO includes optimizing content, meta tags, headings, and internal linking. Technical SEO focuses on website speed, mobile-friendliness, and crawlability. Off-page SEO involves building backlinks and improving domain authority.

Keyword research is a crucial part of SEO. It helps identify the most relevant and valuable keywords for your target audience. Content optimization involves creating high-quality, relevant content that incorporates target keywords naturally.

SEO is an ongoing process that requires regular monitoring and optimization. Search engines constantly update their algorithms, so it's important to stay up-to-date with the latest SEO best practices.`;
            
            const sampleKeywords = `SEO\nsearch engine optimization\nwebsite optimization\nkeyword research\ncontent optimization`;
            
            document.getElementById('contentText').value = sampleText;
            document.getElementById('targetKeywords').value = sampleKeywords;
        }
    </script>
</body>
</html> 