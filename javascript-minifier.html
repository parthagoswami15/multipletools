<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Minifier | Multi-Tools</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="container my-4">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <div class="ad-placeholder" style="height:90px; background:#f1f1f1; border:1px dashed #ccc;">Ad Space</div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 mb-4">
                <div class="card">
                    <div class="card-body">
                        <h1 class="card-title mb-4">JavaScript Minifier</h1>
                        <div id="tool-ui">
                            <div class="mb-3">
                                <label for="jsInput" class="form-label">Enter JavaScript Code</label>
                                <textarea class="form-control" id="jsInput" rows="15" placeholder="Paste your JavaScript code here to minify it..."></textarea>
                            </div>
                            <div class="mb-3">
                                <button class="btn btn-primary me-2" onclick="minifyJS()">Minify JavaScript</button>
                                <button class="btn btn-outline-secondary" onclick="clearJS()">Clear</button>
                            </div>
                            <div class="mb-3">
                                <label for="minifiedJS" class="form-label">Minified JavaScript</label>
                                <textarea class="form-control" id="minifiedJS" rows="15" readonly></textarea>
                            </div>
                            <div class="mb-3">
                                <button class="btn btn-success" onclick="copyToClipboard()">Copy to Clipboard</button>
                            </div>
                            <div class="mb-3">
                                <div class="alert alert-info">
                                    <strong>Original Size:</strong> <span id="originalSize">0</span> characters<br>
                                    <strong>Minified Size:</strong> <span id="minifiedSize">0</span> characters<br>
                                    <strong>Reduction:</strong> <span id="reduction">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ad-placeholder mt-4" style="height:90px; background:#f1f1f1; border:1px dashed #ccc;">Ad Space</div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="ad-placeholder mb-4" style="height:250px; background:#f1f1f1; border:1px dashed #ccc;">Sidebar Ad</div>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Related Tools</h5>
                        <ul class="list-unstyled mb-0" id="related-tools">
                            <li><a href="css-minifier.html">CSS Minifier</a></li>
                            <li><a href="json-formatter.html">JSON Formatter</a></li>
                            <li><a href="sql-formatter.html">SQL Formatter</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="main.js"></script>
    <script>
        function minifyJS() {
            const input = document.getElementById('jsInput').value;
            if (!input.trim()) {
                alert('Please enter JavaScript code to minify');
                return;
            }
            
            try {
                // Simple JavaScript minification
                let minified = input
                    .replace(/\/\*[\s\S]*?\*\//g, '') // Remove multi-line comments
                    .replace(/\/\/.*$/gm, '') // Remove single-line comments
                    .replace(/\s+/g, ' ') // Replace multiple spaces with single space
                    .replace(/\s*{\s*/g, '{') // Remove spaces around braces
                    .replace(/\s*}\s*/g, '}') // Remove spaces around braces
                    .replace(/\s*\(\s*/g, '(') // Remove spaces around parentheses
                    .replace(/\s*\)\s*/g, ')') // Remove spaces around parentheses
                    .replace(/\s*;\s*/g, ';') // Remove spaces around semicolons
                    .replace(/\s*,\s*/g, ',') // Remove spaces around commas
                    .replace(/\s*=\s*/g, '=') // Remove spaces around equals
                    .replace(/\s*\+\s*/g, '+') // Remove spaces around plus
                    .replace(/\s*-\s*/g, '-') // Remove spaces around minus
                    .replace(/\s*\*\s*/g, '*') // Remove spaces around multiply
                    .replace(/\s*\/\s*/g, '/') // Remove spaces around divide
                    .replace(/\s*>\s*/g, '>') // Remove spaces around greater than
                    .replace(/\s*<\s*/g, '<') // Remove spaces around less than
                    .replace(/\s*!\s*/g, '!') // Remove spaces around exclamation
                    .replace(/\s*&\s*/g, '&') // Remove spaces around ampersand
                    .replace(/\s*\|\s*/g, '|') // Remove spaces around pipe
                    .trim();
                
                document.getElementById('minifiedJS').value = minified;
                
                // Calculate statistics
                const originalSize = input.length;
                const minifiedSize = minified.length;
                const reduction = originalSize > 0 ? Math.round(((originalSize - minifiedSize) / originalSize) * 100) : 0;
                
                document.getElementById('originalSize').textContent = originalSize;
                document.getElementById('minifiedSize').textContent = minifiedSize;
                document.getElementById('reduction').textContent = reduction + '%';
                
            } catch (error) {
                alert('Error minifying JavaScript: ' + error.message);
            }
        }
        
        function clearJS() {
            document.getElementById('jsInput').value = '';
            document.getElementById('minifiedJS').value = '';
            document.getElementById('originalSize').textContent = '0';
            document.getElementById('minifiedSize').textContent = '0';
            document.getElementById('reduction').textContent = '0%';
        }
        
        function copyToClipboard() {
            const minifiedJS = document.getElementById('minifiedJS');
            if (!minifiedJS.value.trim()) {
                alert('No minified code to copy');
                return;
            }
            
            minifiedJS.select();
            minifiedJS.setSelectionRange(0, 99999); // For mobile devices
            document.execCommand('copy');
            alert('Minified JavaScript copied to clipboard!');
        }
    </script>
</body>
</html> 